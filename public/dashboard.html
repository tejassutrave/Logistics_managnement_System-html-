<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LogisticsPro - Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>
    <nav class="sidebar">
        <div class="brand">
            <i data-lucide="box" color="#6366f1"></i>
            LogisticsPro
        </div>

        <ul class="nav-menu" id="navMenu">
            <li class="nav-item">
                <a class="nav-link active" onclick="loadView('dashboard')">
                    <i data-lucide="bar-chart-2" class="nav-icon"></i>
                    Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" onclick="loadView('suppliers')">
                    <i data-lucide="package" class="nav-icon"></i>
                    Suppliers
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" onclick="loadView('warehouses')">
                    <i data-lucide="factory" class="nav-icon"></i>
                    Warehouses
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" onclick="loadView('customers')">
                    <i data-lucide="users" class="nav-icon"></i>
                    Customers
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" onclick="loadView('items')">
                    <i data-lucide="clipboard-list" class="nav-icon"></i>
                    Items
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" onclick="loadView('vehicles')">
                    <i data-lucide="truck" class="nav-icon"></i>
                    Vehicles
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" onclick="loadView('drivers')">
                    <i data-lucide="user" class="nav-icon"></i>
                    Drivers
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" onclick="loadView('shipments')">
                    <i data-lucide="send" class="nav-icon"></i>
                    Shipments
                </a>
            </li>
            <li class="nav-item" style="margin-top: 2rem;">
                <a class="nav-link" onclick="loadView('sql-queries')">
                    <i data-lucide="search" class="nav-icon"></i>
                    SQL Queries
                </a>
            </li>
        </ul>

        <div class="user-profile">
            <div class="avatar" id="userAvatar">A</div>
            <div style="flex: 1">
                <div style="font-weight: 600; font-size: 0.9rem;" id="userName">Admin</div>
                <div style="font-size: 0.75rem; color: var(--text-muted);" id="userRole">Administrator</div>
            </div>
            <a href="#" onclick="logout()" title="Logout" style="display: flex; align-items: center;">
                <i data-lucide="log-out" size="16" color="#94a3b8"></i>
            </a>
        </div>
    </nav>

    <main class="main-content" id="mainContent">
        <!-- Content injected here -->
    </main>

    <!-- Generic Modal -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal">
            <div class="modal-header">
                <h3 id="modalTitle">Add Item</h3>
                <button class="close-modal" onclick="closeModal()">Ã—</button>
            </div>
            <div class="modal-body" id="modalBody">
                <!-- Form injected here -->
            </div>
        </div>
    </div>

    <!-- Notification Toast -->
    <div id="toast" class="toast">
        <strong id="toastTitle">Success</strong>
        <span id="toastMessage">Action completed.</span>
    </div>

    <script src="js/main.js"></script>
    <script>
        // Init
        document.addEventListener('DOMContentLoaded', () => {
            const user = JSON.parse(localStorage.getItem('user'));
            if (!user) window.location.href = 'index.html';

            document.getElementById('userName').textContent = user.username;
            document.getElementById('userRole').textContent = user.role;
            document.getElementById('userAvatar').textContent = user.username[0].toUpperCase();

            // Load default
            loadView('dashboard');
        });

        function logout() {
            localStorage.removeItem('user');
            window.location.href = 'index.html';
        }
    </script>
</body>

</html>